<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl">
<head>
    <meta charset="UTF-8">
    <title th:text="${show.movie.title} + ' - Szczegóły'">Szczegóły seansu</title>
    <link rel="stylesheet" th:href="@{/css/show-details.css}" />
</head>
<body>
<h1 th:text="${show.movie.title}">Tytuł filmu</h1>

<p>
    <strong>Seans:</strong>
    <span th:text="${show.startTime.format(T(java.time.format.DateTimeFormatter).ofPattern('dd-MM-yyyy HH:mm'))}">Data i godzina</span><br/>
    <strong>Sala:</strong> <span th:text="${show.room.name}">Nazwa sali</span>
</p>

<h2>Wybierz miejsce</h2>

<div class="seat-grid">
    <div th:each="row, rowStat : ${seatRows}" class="seat-row">
        <span class="row-label" th:text="'Rząd ' + (${rowStat.index + 1})"></span>
        <div th:each="seat : ${row}"
             th:class="'seat ' + (${seat.reserved} ? 'taken' : 'available')"
             th:text="${seat.seatNum}"
             th:attr="data-row=${seat.rowNum}, data-seat=${seat.seatNum}"
             th:onclick="!${seat.reserved} ? 'toggleSeat(this)' : ''">
        </div>
    </div>
</div>

<h3>Wybrane miejsca:</h3>
<ul id="selectedSeats"></ul>

<script th:src="@{/js/show-details.js}"></script>
<a href="/shows">Powrót do listy seansów</a>
</body>
</html>
